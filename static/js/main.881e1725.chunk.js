(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{237:function(e,t,a){e.exports=a(457)},242:function(e,t,a){},265:function(e,t){},267:function(e,t){},278:function(e,t){},280:function(e,t){},307:function(e,t){},309:function(e,t){},310:function(e,t){},315:function(e,t){},317:function(e,t){},336:function(e,t){},348:function(e,t){},351:function(e,t){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var l,n,o,u=a(0),i=a.n(u),s=a(27),r=a.n(s),v=(a(242),a(61)),c=a.n(v),b=a(260),f=function(){var e={owner:"rame",games:[{id:1,time:0}]},t=function(){var t=b.AES.encrypt(JSON.stringify(e),e.owner).toString();return console.log("enc",t),t};return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:t},"Export"),i.a.createElement("button",{onClick:function(){var a=t(),l=JSON.parse(b.AES.decrypt(a,e.owner).toString(b.enc.Utf8));console.log(l)}},"Import"))},m=a(49),d=a(35);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(l||(l={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(n||(n={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(o||(o={}));var g=a(70),p=function(e,t,a){return{topLeftCell:t>0&&a>0?e[t-1][a-1]:null,topCell:t>0?e[t-1][a]:null,topRightCell:t>0&&a<8?e[t-1][a+1]:null,leftCell:a>0?e[t][a-1]:null,rightCell:a<8?e[t][a+1]:null,bottomLeftCell:t<8&&a>0?e[t+1][a-1]:null,bottomCell:t<8&&t<8?e[t+1][a]:null,bottomRightCell:t<8&&a<8?e[t+1][a+1]:null}},h=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var a=0;a<9;a++)e[t].push({value:l.none,state:n.open})}e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(g.a)(e),n=0,o=function(){var e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());a[e][t].value!==l.bomb&&(a=a.map((function(a,n){return a.map((function(a,o){return e===n&&t===o?Object(m.a)(Object(m.a)({},a),{},{value:l.bomb}):a}))})),n++)};n<t;)o();return a}(e,10);for(var o=0;o<9;o++)for(var u=0;u<9;u++){var i=e[o][u];if(i.value!==l.bomb){var s=0,r=p(e,o,u),v=r.topLeftCell,c=r.topCell,b=r.topRightCell,f=r.leftCell,d=r.rightCell,h=r.bottomLeftCell,w=r.bottomCell,O=r.bottomRightCell;(null===v||void 0===v?void 0:v.value)===l.bomb&&s++,(null===c||void 0===c?void 0:c.value)===l.bomb&&s++,(null===b||void 0===b?void 0:b.value)===l.bomb&&s++,(null===f||void 0===f?void 0:f.value)===l.bomb&&s++,(null===d||void 0===d?void 0:d.value)===l.bomb&&s++,(null===h||void 0===h?void 0:h.value)===l.bomb&&s++,(null===w||void 0===w?void 0:w.value)===l.bomb&&s++,(null===O||void 0===O?void 0:O.value)===l.bomb&&s++,s>0&&(e[o][u]=Object(m.a)(Object(m.a)({},i),{},{value:s}))}}return e},w=(a(377),function(e){var t=e.value;return i.a.createElement("div",{className:"NumberDisplay"},i.a.createElement("span",null,t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")))}),O=(a(378),function(e){var t=e.state,a=e.value,o=e.row,s=e.col,r=e.onClick,v=e.onContext,c=e.red,b=e.live,f=e.hesDie,m=Object(u.useState)(""),g=Object(d.a)(m,2),p=g[0],h=g[1];return Object(u.useEffect)((function(){var e=setInterval((function(){h("")}),1e3);return function(){clearInterval(e)}}),[p]),i.a.createElement("button",{style:{padding:0,margin:0},className:"Button ".concat(t===n.visible?"visible":""," value-").concat(a," ").concat(b?"live":""),onContextMenu:v(o,s),onClick:f?function(){}:r(o,s)},t===n.flagged&&a===l.bomb?i.a.createElement("div",{style:{height:"100%",width:"100%"},className:"flag"}):t===n.flagged&&a!==l.bomb?i.a.createElement("div",{style:{height:"100%",width:"100%"},className:"".concat(b?"flag":"wrong-bomb")}):a===l.bomb&&t===n.visible?i.a.createElement("div",{style:{height:"100%",width:"100%"},className:"bomb".concat(c?"-red":"")}):a!==l.bomb&&a!==l.none&&t===n.visible?a:null)}),E=(a(379),function(){var e={cells:h(),bombCounter:10,live:!1,time:0};JSON.parse('{"time":54,"live":true,"bombCounter":1,"cells":[[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1}],[{"value":1,"state":1},{"value":9,"state":2},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1}],[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":1,"state":1}],[{"value":1,"state":1},{"value":1,"state":0},{"value":2,"state":1},{"value":2,"state":1},{"value":2,"state":1},{"value":2,"state":1},{"value":9,"state":2},{"value":2,"state":1},{"value":9,"state":2}],[{"value":2,"state":1},{"value":9,"state":0},{"value":2,"state":1},{"value":9,"state":2},{"value":9,"state":2},{"value":2,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":1,"state":1}],[{"value":9,"state":2},{"value":2,"state":1},{"value":3,"state":1},{"value":3,"state":1},{"value":3,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1}],[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":9,"state":2},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":9,"state":2}],[{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":9,"state":2},{"value":2,"state":1},{"value":1,"state":1}],[{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1}]]}');return{cells:e.cells,time:e.time,live:e.live,bombCounter:e.bombCounter}}),C=function(){var e=Object(u.useState)(E().cells),t=Object(d.a)(e,2),a=t[0],s=t[1],r=Object(u.useState)(o.smile),v=Object(d.a)(r,2),c=v[0],b=v[1],f=Object(u.useState)(E().time),g=Object(d.a)(f,2),C=g[0],j=g[1],y=Object(u.useState)(E().live),S=Object(d.a)(y,2),x=S[0],k=S[1],N=Object(u.useState)(E().bombCounter),I=Object(d.a)(N,2),L=I[0],B=I[1],M=Object(u.useState)(!1),R=Object(d.a)(M,2),D=R[0],J=R[1],T=Object(u.useState)(!1),F=Object(d.a)(T,2),W=F[0],z=F[1];Object(u.useEffect)((function(){var e=function(e){x&&(e.target.className.toString().startsWith("Button")&&("mouseup"===e.type?b(o.smile):"mousedown"===e.type&&b(o.oh)))};return window.addEventListener("mouseup",e),window.addEventListener("mousedown",e),function(){window.removeEventListener("mouseup",e),window.removeEventListener("mousedown",e)}}),[x]),Object(u.useEffect)((function(){if(x&&C<999){var e=setInterval((function(){j(C+1)}),1e3);return function(){clearInterval(e)}}}),[x,C]);var A=Object(u.useCallback)((function(){return a.slice().map((function(e){return e.map((function(e){return e.value===l.bomb&&e.state!==n.flagged?Object(m.a)(Object(m.a)({},e),{},{state:n.visible}):e}))}))}),[a]);Object(u.useEffect)((function(){if(D){var e=A();s(e),b(o.lost),k(!1)}if(W){var t=a.slice().map((function(e){return e.map((function(e){return e.state!==n.visible&&e.state!==n.flagged?Object(m.a)(Object(m.a)({},e),{},{state:n.visible}):e}))}));s(t),b(o.won),k(!1)}}),[D,W]);var H=function(e,t){var o=a.slice();return function(e,t){for(var o=0,u=0,i=[],s=0;s<9;s++)for(var r=0;r<9;r++)s===e-1&&r===t-1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e-1&&r===t&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e-1&&r===t+1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e&&r===t-1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e&&r===t+1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&(i.push({row:s,col:r})),a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e+1&&r===t-1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e+1&&r===t&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++)),s===e+1&&r===t+1&&(a[s][r].state===n.flagged&&o++,a[s][r].value===l.bomb&&0,a[s][r].value===l.bomb&&a[s][r].state===n.flagged&&(i.push({row:s,col:r}),u++));for(var v=[],c=0;c<i.length;c++)-1===v.indexOf(i[c])&&v.push(i[c]);return(i=v).forEach((function(o){o.row===e-1&&o.col===t-1&&a[e-1][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e-1&&o.col===t&&a[e-1][t].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e-1&&o.col===t+1&&a[e-1][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e&&o.col===t+1&&a[e][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e&&o.col===t-1&&a[e][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t-1&&a[e+1][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t&&a[e+1][t].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t+1&&a[e+1][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0})),o===a[e][t].value}(e,t)&&(e-1>=0&&t-1>=0&&o[e-1][t-1].state!==n.visible&&o[e-1][t-1].state!==n.flagged&&P(e-1,t-1,!0)(),e-1>=0&&o[e-1][t].state!==n.visible&&o[e-1][t].state!==n.flagged&&P(e-1,t,!0)(),e-1>=0&&t+1<9&&o[e-1][t+1].state!==n.visible&&o[e-1][t+1].state!==n.flagged&&P(e-1,t+1,!0)(),t-1>=0&&o[e][t-1].state!==n.visible&&o[e][t-1].state!==n.flagged&&P(e,t-1,!0)(),t+1<9&&o[e][t+1].state!==n.visible&&o[e][t+1].state!==n.flagged&&P(e,t+1,!0)(),e+1<9&&t-1>=0&&o[e+1][t-1].state!==n.visible&&o[e+1][t-1].state!==n.flagged&&P(e+1,t-1,!0)(),e+1<9&&o[e+1][t].state!==n.visible&&o[e+1][t].state!==n.flagged&&P(e+1,t,!0)(),e+1<9&&t+1<9&&o[e+1][t+1].state!==n.visible&&o[e+1][t+1].state!==n.flagged&&P(e+1,t+1,!0)()),o},P=function(e,t,o){return function(){if(!(e<0||t>=9||t<0||e>=9)){var u=a.slice();x||k(!0),!0!==o&&(u=H(e,t));var i=u[e][t];if(i.value===l.bomb)return J(!0),u[e][t].red=!0,u[e][t].state=n.visible,u=A(),void s(u);i.value===l.none?u=function e(t,a,o){var u=t[a][o];if(u.state===n.visible||u.state===n.flagged)return t;var i=t.slice();i[a][o].state=n.visible;var s=p(t,a,o),r=s.topLeftCell,v=s.topCell,c=s.topRightCell,b=s.leftCell,f=s.rightCell,m=s.bottomLeftCell,d=s.bottomCell,g=s.bottomRightCell;return(null===r||void 0===r?void 0:r.state)===n.open&&r.value!==l.bomb&&(r.value===l.none?i=e(i,a-1,o-1):i[a-1][o-1].state=n.visible),(null===v||void 0===v?void 0:v.state)===n.open&&v.value!==l.bomb&&(v.value===l.none?i=e(i,a-1,o):i[a-1][o].state=n.visible),(null===c||void 0===c?void 0:c.state)===n.open&&c.value!==l.bomb&&(c.value===l.none?i=e(i,a-1,o+1):i[a-1][o+1].state=n.visible),(null===b||void 0===b?void 0:b.state)===n.open&&b.value!==l.bomb&&(b.value===l.none?i=e(i,a,o-1):i[a][o-1].state=n.visible),(null===f||void 0===f?void 0:f.state)===n.open&&f.value!==l.bomb&&(f.value===l.none?i=e(i,a,o+1):i[a][o+1].state=n.visible),(null===m||void 0===m?void 0:m.state)===n.open&&m.value!==l.bomb&&(m.value===l.none?i=e(i,a+1,o-1):i[a+1][o-1].state=n.visible),(null===d||void 0===d?void 0:d.state)===n.open&&d.value!==l.bomb&&(d.value===l.none?i=e(i,a+1,o):i[a+1][o].state=n.visible),(null===g||void 0===g?void 0:g.state)===n.open&&g.value!==l.bomb&&(g.value===l.none?i=e(i,a+1,o+1):i[a+1][o+1].state=n.visible),i}(a,e,t):u[e][t].state=n.visible,V()&&z(!0),s(u)}}},U=function(){var e=0,t=0,o=0;return a.forEach((function(a){return a.forEach((function(a){a.value!==l.bomb&&a.state===n.open&&e++,a.value===l.bomb&&a.state!==n.open&&a.state!==n.flagged&&t++,a.value!==l.bomb&&a.state===n.flagged&&o++}))})),{numberOfOpenCells:e,existNotOpenBombs:t,wrongBombs:o}},V=function(){var e=!1;return 0===U().numberOfOpenCells&&(e=!0),U().wrongBombs>0&&(e=!1),e},$=function(e,t){return function(l){if(l.preventDefault(),x){var o=a.slice();a[e][t].state!==n.visible&&(o[e][t].state!==n.flagged?(o[e][t].state=n.flagged,s(o),B(L-1)):(o[e][t].state=n.open,s(o),B(L+1))),V()&&z(!0)}}};Object(u.useEffect)((function(){U().numberOfOpenCells>0&&0===L&&z(!0)}),[L,a]);return i.a.createElement("div",{style:{width:"".concat(325,"px"),height:"".concat(415,"px")},className:"Minesweeper"},i.a.createElement("div",{className:"Header"},i.a.createElement(w,{value:L}),i.a.createElement("div",{className:"Face"},i.a.createElement("span",{role:"img","aria-label":"face",onClick:function(){k(!1),j(0),B(10),s(h()),J(!1),z(!1),b(o.smile)}},c)),i.a.createElement(w,{value:C})),i.a.createElement("div",{className:"Body",style:{gridTemplateColumns:"repeat(".concat(9,", 1fr)"),gridTemplateRows:"repeat(".concat(9,", 1fr)")}},a.map((function(e,t){return e.map((function(e,a){return i.a.createElement(O,{live:x,hesDie:D||W,key:"".concat(t-a),state:e.state,value:e.value,red:e.red,onClick:P,onContext:$,row:t,col:a})}))}))))},j=a(460),y=a(462),S=a(461),x=function(e){e.ownerId;var t=e.ownerName,a=Object(u.useState)([]),l=Object(d.a)(a,2),n=l[0],o=l[1],s=Object(u.useState)([]),r=Object(d.a)(s,2),v=r[0],b=r[1],f=Object(u.useState)(!0),m=Object(d.a)(f,2),g=m[0],p=m[1],h=Object(u.useState)(null),w=Object(d.a)(h,2),O=w[0],E=w[1];Object(u.useEffect)((function(){C()}),[]);var C=function(){c.a.get("/api").then((function(e){var t=e.data,a=[],l=[];t.forEach((function(e){e.games.forEach((function(t){var n={time:t.time,date:t.date,owner:e.owner};a.push(n);var o={text:e.owner,value:e.owner};-1===l.findIndex((function(e){return e.value===o.value}))&&l.push(o)}))})),o(a),b(l),p(!1)})).catch((function(){p(!1),alert("Error retrieving data!!!")}))},x=function(){return[t]};console.log(x());var k=[{title:"No",dataIndex:"key",key:"key",width:60},{title:"Person",dataIndex:"owner",key:"owner",filters:v,onFilter:function(e,t){return e===t.owner},defaultFilteredValue:x()},{title:"Time",dataIndex:"time",key:"time",sorter:function(e,t){return e.time-t.time},sortOrder:O},{title:"Date",dataIndex:"date",key:"date"}],N=n.map((function(e,t){return{key:t+1,time:e.time,date:e.date,owner:e.owner}}));return i.a.createElement("div",{style:{width:"600px",height:"660px"}},i.a.createElement(j.a,{title:function(){return i.a.createElement(y.b,{style:{width:"100%"},align:"center",direction:"vertical"},i.a.createElement(S.a.Text,null,"Hi"))},showSorterTooltip:!1,loading:g,bordered:!0,dataSource:N,columns:k,size:"large",onChange:function(e,t,a,l){"sort"===l.action&&("descend"===O&&E(null),"ascend"===O&&E("descend"),null===O&&E("ascend"))},pagination:{position:["bottomCenter"],size:"small"}}))};function k(){return i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{}},i.a.createElement(f,null),i.a.createElement("button",{onClick:function(){console.log("log game:"),c.a.get("/api").then((function(e){var t=e.data;console.log(t)})).catch((function(){alert("Error retrieving data!!!")}))}},"gag"),i.a.createElement("button",{onClick:function(){c.a.get("/api?id=".concat("609580eb5a5d3a17c8002231")).then((function(e){var t=e.data.games;console.log(t)})).catch((function(){alert("Error retrieving data!!!")}))}},"gag by id")),i.a.createElement(C,null),i.a.createElement(x,{ownerName:"rame"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[237,1,2]]]);
//# sourceMappingURL=main.881e1725.chunk.js.map