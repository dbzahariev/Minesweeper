(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{214:function(e,t,a){e.exports=a(434)},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},246:function(e,t){},248:function(e,t){},259:function(e,t){},261:function(e,t){},288:function(e,t){},290:function(e,t){},291:function(e,t){},296:function(e,t){},298:function(e,t){},317:function(e,t){},329:function(e,t){},332:function(e,t){},434:function(e,t,a){"use strict";a.r(t);var l,n,o,u=a(0),s=a.n(u),i=a(29),v=a.n(i),r=(a(219),a(220),a(41)),c=a(35);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(l||(l={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(n||(n={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(o||(o={}));var b=a(210),f=function(e,t,a){return{topLeftCell:t>0&&a>0?e[t-1][a-1]:null,topCell:t>0?e[t-1][a]:null,topRightCell:t>0&&a<8?e[t-1][a+1]:null,leftCell:a>0?e[t][a-1]:null,rightCell:a<8?e[t][a+1]:null,bottomLeftCell:t<8&&a>0?e[t+1][a-1]:null,bottomCell:t<8&&t<8?e[t+1][a]:null,bottomRightCell:t<8&&a<8?e[t+1][a+1]:null}},m=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var a=0;a<9;a++)e[t].push({value:l.none,state:n.open})}e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(b.a)(e),n=0,o=function(){var e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());a[e][t].value!==l.bomb&&(a=a.map((function(a,n){return a.map((function(a,o){return e===n&&t===o?Object(r.a)(Object(r.a)({},a),{},{value:l.bomb}):a}))})),n++)};n<t;)o();return a}(e,10);for(var o=0;o<9;o++)for(var u=0;u<9;u++){var s=e[o][u];if(s.value!==l.bomb){var i=0,v=f(e,o,u),c=v.topLeftCell,m=v.topCell,d=v.topRightCell,g=v.leftCell,p=v.rightCell,h=v.bottomLeftCell,w=v.bottomCell,E=v.bottomRightCell;(null===c||void 0===c?void 0:c.value)===l.bomb&&i++,(null===m||void 0===m?void 0:m.value)===l.bomb&&i++,(null===d||void 0===d?void 0:d.value)===l.bomb&&i++,(null===g||void 0===g?void 0:g.value)===l.bomb&&i++,(null===p||void 0===p?void 0:p.value)===l.bomb&&i++,(null===h||void 0===h?void 0:h.value)===l.bomb&&i++,(null===w||void 0===w?void 0:w.value)===l.bomb&&i++,(null===E||void 0===E?void 0:E.value)===l.bomb&&i++,i>0&&(e[o][u]=Object(r.a)(Object(r.a)({},s),{},{value:i}))}}return e},d=(a(221),function(e){var t=e.value;return s.a.createElement("div",{className:"NumberDisplay"},s.a.createElement("span",null,t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")))}),g=(a(222),function(e){var t=e.state,a=e.value,o=e.row,i=e.col,v=e.onClick,r=e.onContext,b=e.red,f=e.live,m=e.hesDie,d=Object(u.useState)(""),g=Object(c.a)(d,2),p=g[0],h=g[1];return Object(u.useEffect)((function(){var e=setInterval((function(){h("")}),1e3);return function(){clearInterval(e)}}),[p]),s.a.createElement("button",{style:{padding:0,margin:0},className:"Button ".concat(t===n.visible?"visible":""," value-").concat(a," ").concat(f?"live":""),onContextMenu:r(o,i),onClick:m?function(){}:v(o,i)},t===n.flagged&&a===l.bomb?s.a.createElement("div",{style:{height:"100%",width:"100%"},className:"flag"}):t===n.flagged&&a!==l.bomb?s.a.createElement("div",{style:{height:"100%",width:"100%"},className:"".concat(f?"flag":"wrong-bomb")}):a===l.bomb&&t===n.visible?s.a.createElement("div",{style:{height:"100%",width:"100%"},className:"bomb".concat(b?"-red":"")}):a!==l.bomb&&a!==l.none&&t===n.visible?a:null)}),p=(a(223),a(55)),h=a.n(p),w=a(241),E=function(){var e={owner:"rame",games:[{id:1,time:0}]},t=function(){var t=w.AES.encrypt(JSON.stringify(e),e.owner).toString();return console.log("enc",t),t};return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:t},"Export"),s.a.createElement("button",{onClick:function(){var a=t(),l=JSON.parse(w.AES.decrypt(a,e.owner).toString(w.enc.Utf8));console.log(l)}},"Import"))},C=a(437),O=function(e){var t=e.ownerId,a=Object(u.useState)([]),l=Object(c.a)(a,2),n=l[0],o=l[1];Object(u.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"609580eb5a5d3a17c8002231";h.a.get("/api?id=".concat(e)).then((function(e){var t=e.data.games;o(t),console.log(t)})).catch((function(){alert("Error retrieving data!!!")}))}(t)}),[t]);var i=[];n.forEach((function(e,t){var a={key:t+1,time:e.time,date:e.date};i.push(a)}));return s.a.createElement("div",{style:{width:"400px",borderWidth:"2px",borderColor:"black",borderStyle:"solid"}},s.a.createElement(C.a,{dataSource:i,columns:[{title:"No",dataIndex:"key",key:"key"},{title:"Time",dataIndex:"time",key:"time"},{title:"Date",dataIndex:"date",key:"date"}]}),";")},j=function(){var e={cells:m(),bombCounter:10,live:!1,time:0};JSON.parse('{"time":54,"live":true,"bombCounter":1,"cells":[[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1}],[{"value":1,"state":1},{"value":9,"state":2},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1}],[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":1,"state":1}],[{"value":1,"state":1},{"value":1,"state":0},{"value":2,"state":1},{"value":2,"state":1},{"value":2,"state":1},{"value":2,"state":1},{"value":9,"state":2},{"value":2,"state":1},{"value":9,"state":2}],[{"value":2,"state":1},{"value":9,"state":0},{"value":2,"state":1},{"value":9,"state":2},{"value":9,"state":2},{"value":2,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":1,"state":1}],[{"value":9,"state":2},{"value":2,"state":1},{"value":3,"state":1},{"value":3,"state":1},{"value":3,"state":1},{"value":1,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1}],[{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":9,"state":2},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":2,"state":1},{"value":9,"state":2}],[{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":9,"state":2},{"value":2,"state":1},{"value":1,"state":1}],[{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":0,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":1,"state":1},{"value":0,"state":1}]]}');return{cells:e.cells,time:e.time,live:e.live,bombCounter:e.bombCounter}},y=function(){var e=Object(u.useState)(j().cells),t=Object(c.a)(e,2),a=t[0],i=t[1],v=Object(u.useState)(o.smile),b=Object(c.a)(v,2),p=b[0],w=b[1],C=Object(u.useState)(j().time),y=Object(c.a)(C,2),S=y[0],k=y[1],x=Object(u.useState)(j().live),N=Object(c.a)(x,2),I=N[0],L=N[1],B=Object(u.useState)(j().bombCounter),D=Object(c.a)(B,2),M=D[0],R=D[1],J=Object(u.useState)(!1),W=Object(c.a)(J,2),A=W[0],F=W[1],H=Object(u.useState)(!1),T=Object(c.a)(H,2),U=T[0],$=T[1];Object(u.useEffect)((function(){}),[a,M,I]),Object(u.useEffect)((function(){var e=function(e){I&&(e.target.className.toString().startsWith("Button")&&("mouseup"===e.type?w(o.smile):"mousedown"===e.type&&w(o.oh)))};return window.addEventListener("mouseup",e),window.addEventListener("mousedown",e),function(){window.removeEventListener("mouseup",e),window.removeEventListener("mousedown",e)}}),[I]),Object(u.useEffect)((function(){if(I&&S<999){var e=setInterval((function(){k(S+1)}),1e3);return function(){clearInterval(e)}}}),[I,S]);var q=Object(u.useCallback)((function(){return a.slice().map((function(e){return e.map((function(e){return e.value===l.bomb&&e.state!==n.flagged?Object(r.a)(Object(r.a)({},e),{},{state:n.visible}):e}))}))}),[a]);Object(u.useEffect)((function(){if(A){var e=q();i(e),w(o.lost),L(!1)}if(U){var t=a.slice().map((function(e){return e.map((function(e){return e.state!==n.visible&&e.state!==n.flagged?Object(r.a)(Object(r.a)({},e),{},{state:n.visible}):e}))}));i(t),w(o.won),L(!1)}}),[A,U]);var z=function(e,t){var o=a.slice();return function(e,t){for(var o=0,u=0,s=[],i=0;i<9;i++)for(var v=0;v<9;v++)i===e-1&&v===t-1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e-1&&v===t&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e-1&&v===t+1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e&&v===t-1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e&&v===t+1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&(s.push({row:i,col:v})),a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e+1&&v===t-1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e+1&&v===t&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++)),i===e+1&&v===t+1&&(a[i][v].state===n.flagged&&o++,a[i][v].value===l.bomb&&0,a[i][v].value===l.bomb&&a[i][v].state===n.flagged&&(s.push({row:i,col:v}),u++));for(var r=[],c=0;c<s.length;c++)-1===r.indexOf(s[c])&&r.push(s[c]);return(s=r).forEach((function(o){o.row===e-1&&o.col===t-1&&a[e-1][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e-1&&o.col===t&&a[e-1][t].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e-1&&o.col===t+1&&a[e-1][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e&&o.col===t+1&&a[e][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e&&o.col===t-1&&a[e][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t-1&&a[e+1][t-1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t&&a[e+1][t].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0,o.row===e+1&&o.col===t+1&&a[e+1][t+1].state===n.flagged&&a[e][t].value!==l.bomb&&a[e][t].value!==l.none&&a[e][t].value===u&&0})),o===a[e][t].value}(e,t)&&(e-1>=0&&t-1>=0&&o[e-1][t-1].state!==n.visible&&o[e-1][t-1].state!==n.flagged&&G(e-1,t-1,!0)(),e-1>=0&&o[e-1][t].state!==n.visible&&o[e-1][t].state!==n.flagged&&G(e-1,t,!0)(),e-1>=0&&t+1<9&&o[e-1][t+1].state!==n.visible&&o[e-1][t+1].state!==n.flagged&&G(e-1,t+1,!0)(),t-1>=0&&o[e][t-1].state!==n.visible&&o[e][t-1].state!==n.flagged&&G(e,t-1,!0)(),t+1<9&&o[e][t+1].state!==n.visible&&o[e][t+1].state!==n.flagged&&G(e,t+1,!0)(),e+1<9&&t-1>=0&&o[e+1][t-1].state!==n.visible&&o[e+1][t-1].state!==n.flagged&&G(e+1,t-1,!0)(),e+1<9&&o[e+1][t].state!==n.visible&&o[e+1][t].state!==n.flagged&&G(e+1,t,!0)(),e+1<9&&t+1<9&&o[e+1][t+1].state!==n.visible&&o[e+1][t+1].state!==n.flagged&&G(e+1,t+1,!0)()),o},G=function(e,t,o){return function(){if(!(e<0||t>=9||t<0||e>=9)){var u=a.slice();I||L(!0),!0!==o&&(u=z(e,t));var s=u[e][t];if(s.value===l.bomb)return F(!0),u[e][t].red=!0,u[e][t].state=n.visible,u=q(),void i(u);s.value===l.none?u=function e(t,a,o){var u=t[a][o];if(u.state===n.visible||u.state===n.flagged)return t;var s=t.slice();s[a][o].state=n.visible;var i=f(t,a,o),v=i.topLeftCell,r=i.topCell,c=i.topRightCell,b=i.leftCell,m=i.rightCell,d=i.bottomLeftCell,g=i.bottomCell,p=i.bottomRightCell;return(null===v||void 0===v?void 0:v.state)===n.open&&v.value!==l.bomb&&(v.value===l.none?s=e(s,a-1,o-1):s[a-1][o-1].state=n.visible),(null===r||void 0===r?void 0:r.state)===n.open&&r.value!==l.bomb&&(r.value===l.none?s=e(s,a-1,o):s[a-1][o].state=n.visible),(null===c||void 0===c?void 0:c.state)===n.open&&c.value!==l.bomb&&(c.value===l.none?s=e(s,a-1,o+1):s[a-1][o+1].state=n.visible),(null===b||void 0===b?void 0:b.state)===n.open&&b.value!==l.bomb&&(b.value===l.none?s=e(s,a,o-1):s[a][o-1].state=n.visible),(null===m||void 0===m?void 0:m.state)===n.open&&m.value!==l.bomb&&(m.value===l.none?s=e(s,a,o+1):s[a][o+1].state=n.visible),(null===d||void 0===d?void 0:d.state)===n.open&&d.value!==l.bomb&&(d.value===l.none?s=e(s,a+1,o-1):s[a+1][o-1].state=n.visible),(null===g||void 0===g?void 0:g.state)===n.open&&g.value!==l.bomb&&(g.value===l.none?s=e(s,a+1,o):s[a+1][o].state=n.visible),(null===p||void 0===p?void 0:p.state)===n.open&&p.value!==l.bomb&&(p.value===l.none?s=e(s,a+1,o+1):s[a+1][o+1].state=n.visible),s}(a,e,t):u[e][t].state=n.visible,P()&&$(!0),i(u)}}},K=function(){var e=0,t=0,o=0;return a.forEach((function(a){return a.forEach((function(a){a.value!==l.bomb&&a.state===n.open&&e++,a.value===l.bomb&&a.state!==n.open&&a.state!==n.flagged&&t++,a.value!==l.bomb&&a.state===n.flagged&&o++}))})),{numberOfOpenCells:e,existNotOpenBombs:t,wrongBombs:o}},P=function(){var e=!1;return 0===K().numberOfOpenCells&&(e=!0),K().wrongBombs>0&&(e=!1),e},Q=function(e,t){return function(l){if(l.preventDefault(),I){var o=a.slice();a[e][t].state!==n.visible&&(o[e][t].state!==n.flagged?(o[e][t].state=n.flagged,i(o),R(M-1)):(o[e][t].state=n.open,i(o),R(M+1))),P()&&$(!0)}}};Object(u.useEffect)((function(){K().numberOfOpenCells>0&&0===M&&$(!0)}),[M,a]);return s.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},s.a.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},s.a.createElement(E,null),s.a.createElement("button",{onClick:function(){console.log("log game:"),h.a.get("/api").then((function(e){var t=e.data;console.log(t)})).catch((function(){alert("Error retrieving data!!!")}))}},"gag"),s.a.createElement("button",{onClick:function(){h.a.get("/api?id=".concat("609580eb5a5d3a17c8002231")).then((function(e){var t=e.data.games;console.log(t)})).catch((function(){alert("Error retrieving data!!!")}))}},"gag by id")),s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Header"},s.a.createElement(d,{value:M}),s.a.createElement("div",{className:"Face"},s.a.createElement("span",{role:"img","aria-label":"face",onClick:function(){L(!1),k(0),R(10),i(m()),F(!1),$(!1),w(o.smile)}},p)),s.a.createElement(d,{value:S})),s.a.createElement("div",{className:"Body"},a.map((function(e,t){return e.map((function(e,a){return s.a.createElement(g,{live:I,hesDie:A||U,key:"".concat(t-a),state:e.state,value:e.value,red:e.red,onClick:G,onContext:Q,row:t,col:a})}))})))),s.a.createElement(O,{ownerId:"60957d8a1d870f1c7c1073a0"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[214,1,2]]]);
//# sourceMappingURL=main.46485734.chunk.js.map