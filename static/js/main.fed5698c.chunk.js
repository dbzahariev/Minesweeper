(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var o,l,a,i=n(16),u=n.n(i),r=n(3),s=n(4),c=n(1);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(o||(o={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(a||(a={}));var v=n(18),b=function(e,t,n){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<8?e[t-1][n+1]:null,leftCell:n>0?e[t][n-1]:null,rightCell:n<8?e[t][n+1]:null,bottomLeftCell:t<8&&n>0?e[t+1][n-1]:null,bottomCell:t<8&&t<8?e[t+1][n]:null,bottomRightCell:t<8&&n<8?e[t+1][n+1]:null}},f=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var n=0;n<9;n++)e[t].push({value:o.none,state:l.open})}e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=Object(v.a)(e),l=0,a=function(){var e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random());n[e][t].value!==o.bomb&&(n=n.map((function(n,l){return n.map((function(n,a){return e===l&&t===a?Object(r.a)(Object(r.a)({},n),{},{value:o.bomb}):n}))})),l++)};l<t;)a();return n}(e,10);for(var a=0;a<9;a++)for(var i=0;i<9;i++){var u=e[a][i];if(u.value!==o.bomb){var s=0,c=b(e,a,i),f=c.topLeftCell,d=c.topCell,m=c.topRightCell,j=c.leftCell,p=c.rightCell,h=c.bottomLeftCell,O=c.bottomCell,g=c.bottomRightCell;(null===f||void 0===f?void 0:f.value)===o.bomb&&s++,(null===d||void 0===d?void 0:d.value)===o.bomb&&s++,(null===m||void 0===m?void 0:m.value)===o.bomb&&s++,(null===j||void 0===j?void 0:j.value)===o.bomb&&s++,(null===p||void 0===p?void 0:p.value)===o.bomb&&s++,(null===h||void 0===h?void 0:h.value)===o.bomb&&s++,(null===O||void 0===O?void 0:O.value)===o.bomb&&s++,(null===g||void 0===g?void 0:g.value)===o.bomb&&s++,s>0&&(e[a][i]=Object(r.a)(Object(r.a)({},u),{},{value:s}))}}return e},d=function e(t,n,a){var i=t[n][a];if(i.state===l.visible||i.state===l.flagged)return t;var u=t.slice();u[n][a].state=l.visible;var r=b(t,n,a),s=r.topLeftCell,c=r.topCell,v=r.topRightCell,f=r.leftCell,d=r.rightCell,m=r.bottomLeftCell,j=r.bottomCell,p=r.bottomRightCell;return(null===s||void 0===s?void 0:s.state)===l.open&&s.value!==o.bomb&&(s.value===o.none?u=e(u,n-1,a-1):u[n-1][a-1].state=l.visible),(null===c||void 0===c?void 0:c.state)===l.open&&c.value!==o.bomb&&(c.value===o.none?u=e(u,n-1,a):u[n-1][a].state=l.visible),(null===v||void 0===v?void 0:v.state)===l.open&&v.value!==o.bomb&&(v.value===o.none?u=e(u,n-1,a+1):u[n-1][a+1].state=l.visible),(null===f||void 0===f?void 0:f.state)===l.open&&f.value!==o.bomb&&(f.value===o.none?u=e(u,n,a-1):u[n][a-1].state=l.visible),(null===d||void 0===d?void 0:d.state)===l.open&&d.value!==o.bomb&&(d.value===o.none?u=e(u,n,a+1):u[n][a+1].state=l.visible),(null===m||void 0===m?void 0:m.state)===l.open&&m.value!==o.bomb&&(m.value===o.none?u=e(u,n+1,a-1):u[n+1][a-1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==o.bomb&&(j.value===o.none?u=e(u,n+1,a):u[n+1][a].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==o.bomb&&(p.value===o.none?u=e(u,n+1,a+1):u[n+1][a+1].state=l.visible),u},m=(n(23),n(0)),j=function(e){var t=e.value;return Object(m.jsx)("div",{className:"NumberDisplay",children:Object(m.jsx)("span",{children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})})},p=(n(25),function(e){var t=e.state,n=e.value,a=e.row,i=e.col,u=e.onClick,r=e.onContext,s=e.red,c=e.live,v=e.hesDie;return Object(m.jsx)("div",{className:"Button ".concat(t===l.visible?"visible":""," value-").concat(n," ").concat(s?"red":""," ").concat(c?"live":""),onClick:v?function(){}:u(a,i),onContextMenu:r(a,i),children:function(){if(t===l.visible){if(n===o.bomb)return Object(m.jsx)("span",{role:"img","aria-label":"bomb",children:"\ud83d\udca3"});if(n!==o.none)return Object(m.jsx)("span",{children:n});if(n===o.none)return null}else if(t===l.flagged)return Object(m.jsx)("span",{role:"img","aria-label":"flag",children:"\ud83d\udea9"});return null}()})}),h=(n(26),n(17)),O=n.n(h),g=function(){var e=Object(c.useState)(f()),t=Object(s.a)(e,2),n=t[0],i=t[1],u=Object(c.useState)(a.smile),v=Object(s.a)(u,2),b=v[0],h=v[1],g=Object(c.useState)(0),C=Object(s.a)(g,2),w=C[0],x=C[1],E=Object(c.useState)(!1),S=Object(s.a)(E,2),L=S[0],N=S[1],k=Object(c.useState)(10),M=Object(s.a)(k,2),R=M[0],y=M[1],D=Object(c.useState)(!1),B=Object(s.a)(D,2),I=B[0],J=B[1],A=Object(c.useState)(!1),F=Object(s.a)(A,2),H=F[0],W=F[1];Object(c.useEffect)((function(){var e=function(e){L&&(e.target.className.toString().startsWith("Button")&&("mouseup"===e.type?h(a.smile):"mousedown"===e.type&&h(a.oh)))};return window.addEventListener("mouseup",e),window.addEventListener("mousedown",e),function(){window.removeEventListener("mouseup",e),window.removeEventListener("mousedown",e)}}),[L]),Object(c.useEffect)((function(){if(L&&w<999){var e=setInterval((function(){x(w+1)}),1e3);return function(){clearInterval(e)}}}),[L,w]),Object(c.useEffect)((function(){I?(N(!1),h(a.lost)):h(a.smile)}),[I]),Object(c.useEffect)((function(){H&&(N(!1),h(a.won))}),[H]);var q=function(e,t){return function(){var a=n.slice();if(!L){for(var u=a[e][t].value===o.bomb;u;)u=(a=f())[e][t].value===o.bomb;N(!0)}var s=a[e][t];if(![l.flagged,l.visible].includes(s.state)){if(s.value===o.bomb)return J(!0),(a=K())[e][t].red=!0,void i(a);s.value===o.none?a=d(n,e,t):a[e][t].state=l.visible,z(n)||(a.map((function(e){return e.map((function(e){return e.value===o.bomb?Object(r.a)(Object(r.a)({},e),{},{state:l.flagged}):e}))})),W(!0)),i(a)}}},z=function(e){var t=0;return e.forEach((function(e){return e.forEach((function(e){e.value!==o.bomb&&e.state===l.open&&t++}))})),t>0},G=function(e,t){return function(o){if(o.preventDefault(),L){var a=n.slice(),u=n[e][t];u.state!==l.visible&&(u.state===l.open&&R>-99?(a[e][t].state=l.flagged,i(a),y(R-1)):u.state===l.flagged&&(a[e][t].state=l.open,i(a),y(R+1)))}}},K=function(){return n.slice().map((function(e){return e.map((function(e){return e.value===o.bomb?Object(r.a)(Object(r.a)({},e),{},{state:l.visible}):e}))}))};return Object(c.useEffect)((function(){console.log("test server"),O.a.get("/api").then((function(e){var t=e.data;console.log(t),console.log("Data has been received!!")})).catch((function(){alert("Error retrieving data!!!")}))}),[]),Object(m.jsxs)("div",{className:"App",children:["13:18",Object(m.jsxs)("div",{className:"Header",children:[Object(m.jsx)(j,{value:R}),Object(m.jsx)("div",{className:"Face",children:Object(m.jsx)("span",{role:"img","aria-label":"face",onClick:function(){N(!1),x(0),y(10),i(f()),J(!1),W(!1),h(a.smile)},children:b})}),Object(m.jsx)(j,{value:w})]}),Object(m.jsx)("div",{className:"Body",children:n.map((function(e,t){return e.map((function(e,n){return Object(m.jsx)(p,{live:L,hesDie:I||H,state:e.state,value:e.value,red:e.red,onClick:q,onContext:G,row:t,col:n},"".concat(t-n))}))}))})]})};n(45);u.a.render(Object(m.jsx)(g,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.fed5698c.chunk.js.map